{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  name: \"SingIn\",\n\n  data() {\n    return {\n      selectItem: []\n    };\n  },\n\n  async mounted() {\n    const response = await axios.get(\"api/roles/role_list/\");\n    this.selectItem.push(\"Выберите роль\");\n\n    if (response.status == 200) {\n      response.data.forEach(item => {\n        this.selectItem.push(item.roleName);\n      });\n    }\n\n    console.log(this.selectItem[0]);\n  },\n\n  methods: {\n    LoginPage() {\n      this.$router.push(\"/\");\n    },\n\n    async SingIn() {\n      const response = await axios.post(\"api/user/new_account/\", {\n        username: this.username,\n        password: this.password,\n        firstname: this.firstname,\n        lastname: this.lastname,\n        users: {\n          roles: {\n            roleName: this.roleName\n          }\n        },\n        name: this.name\n      });\n      console.log(response);\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAgFA,OAAOA,KAAP,MAAkB,OAAlB;AAGA,eAAe;EACbC,IAAI,EAAE,QADO;;EAGbC,IAAI,GAAE;IACJ,OAAO;MACLC,UAAU,EAAE;IADP,CAAP;EAGD,CAPY;;EASd,MAAMC,OAAN,GAAgB;IAEX,MAAMC,QAAO,GAAI,MAAML,KAAK,CAACM,GAAN,CAAU,sBAAV,CAAvB;IACD,KAAKH,UAAL,CAAgBI,IAAhB,CAAqB,eAArB;;IACC,IAAGF,QAAQ,CAACG,MAAT,IAAiB,GAApB,EAAwB;MACtBH,QAAQ,CAACH,IAAT,CAAcO,OAAd,CAAuBC,IAAD,IAAQ;QAC5B,KAAKP,UAAL,CAAgBI,IAAhB,CAAqBG,IAAI,CAACC,QAA1B;MACD,CAFD;IAGA;;IACFC,OAAO,CAACC,GAAR,CAAY,KAAKV,UAAL,CAAgB,CAAhB,CAAZ;EACH,CAnBY;;EAqBbW,OAAO,EAAE;IACPC,SAAS,GAAE;MACT,KAAKC,OAAL,CAAaT,IAAb,CAAkB,GAAlB;IACD,CAHM;;IAIR,MAAOU,MAAP,GAAe;MAEX,MAAMZ,QAAQ,GAAE,MAAML,KAAK,CAACkB,IAAN,CAAW,uBAAX,EAAmC;QACvDC,QAAQ,EAAE,KAAKA,QADwC;QAEvDC,QAAQ,EAAE,KAAKA,QAFwC;QAGvDC,SAAS,EAAE,KAAKA,SAHuC;QAIvDC,QAAQ,EAAE,KAAKA,QAJwC;QAKvDC,KAAK,EAAE;UACLC,KAAK,EAAE;YACLb,QAAQ,EAAE,KAAKA;UADV;QADF,CALgD;QAUvDV,IAAI,EAAE,KAAKA;MAV4C,CAAnC,CAAtB;MAaAW,OAAO,CAACC,GAAR,CAAYR,QAAZ;IAEH;;EArBO;AArBI,CAAf","names":["axios","name","data","selectItem","mounted","response","get","push","status","forEach","item","roleName","console","log","methods","LoginPage","$router","SingIn","post","username","password","firstname","lastname","users","roles"],"sourceRoot":"","sources":["C:\\Users\\camar\\Intellij\\Kotlin\\MFA\\frontend\\src\\components\\SingIn.vue"],"sourcesContent":["<template>\r\n  <div class=\"container\" >\r\n    <div class=\"d-flex justify-content-center h-100\">\r\n\r\n      <div class=\"card\">\r\n        <div class=\"form-group\">\r\n          <input type=\"button\" value=\"Войти\" class=\"btn float-right \" style=\"background: none; color:white\" @click=\"LoginPage\">\r\n        </div>\r\n        <div class=\"card-header\">\r\n          <h3>Вход в систему</h3>\r\n        </div>\r\n        <div class=\"card-body\">\r\n      <form method=\"Post\" @submit.prevent=\"SingIn\">\r\n\r\n        <div class=\"input-group form-group\">\r\n          <div class=\"input-group-prepend\">\r\n            <span class=\"input-group-text\"><i class=\"glyphicon glyphicon-envelope\"></i></span>\r\n          </div>\r\n          <input type=\"text\" class=\"form-control\" placeholder=\"почта\" name=\"username\" id=\"username\" v-model=\"username\" required>\r\n        </div>\r\n\r\n        <div class=\"input-group form-group\">\r\n          <div class=\"input-group-prepend\">\r\n            <span class=\"input-group-text\"><i class=\"fas fa-user\"></i></span>\r\n          </div>\r\n          <input type=\"text\" class=\"form-control\" placeholder=\"фамилия\" name=\"firstname\" id=\"firstname\" v-model=\"firstname\" required>\r\n\r\n        </div>\r\n\r\n        <div class=\"input-group form-group\">\r\n          <div class=\"input-group-prepend\">\r\n            <span class=\"input-group-text\"><i class=\"fas fa-user\"></i></span>\r\n          </div>\r\n          <input type=\"text\" class=\"form-control\" placeholder=\"имя\" name=\"lastname\" id=\"lastname\" v-model=\"lastname\" required>\r\n\r\n        </div>\r\n\r\n\r\n        <div class=\"input-group form-group\">\r\n          <div class=\"input-group-prepend\">\r\n            <span class=\"input-group-text\"><i class=\"fas fa-user\"></i></span>\r\n          </div>\r\n          <input type=\"text\" class=\"form-control\" placeholder=\"отчество\" name=\"name\" id=\"patronymic\" v-model=\"patronymic\" required>\r\n        </div>\r\n\r\n        <div class=\"input-group form-group\">\r\n          <div class=\"input-group-prepend\">\r\n            <span class=\"input-group-text\"><i class=\"fas fa-key\"></i></span>\r\n          </div>\r\n          <input type=\"password\" class=\"form-control\" placeholder=\"пароль\" name=\"password\" id=\"password\" v-model=\"password\" required>\r\n        </div>\r\n\r\n        <div class=\"input-group form-group\">\r\n          <div class=\"input-group-prepend\">\r\n            <span class=\"input-group-text\"><i class=\"fa fa-group\"></i></span>\r\n          </div>\r\n            <select class=\"form-control\" id=\"myRoleList\" name=\"users[]\" v-model=\"roleName\">\r\n              <option v-for=\"item in selectItem\" v-bind:key=\"item.index\">{{item}}</option>\r\n            </select>\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          <input type=\"submit\" value=\"Регистрироваться\" class=\"btn float-right login_btn\">\r\n        </div>\r\n\r\n\r\n      </form>\r\n\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n\r\n\r\n  </div>\r\n</template>\r\n<script>\r\n\r\n\r\n\r\nimport axios from \"axios\";\r\n\r\n\r\nexport default {\r\n  name: \"SingIn\",\r\n\r\n  data(){\r\n    return {\r\n      selectItem: []\r\n    }\r\n  },\r\n\r\n async mounted() {\r\n\r\n      const response = await axios.get(\"api/roles/role_list/\");\r\n     this.selectItem.push(\"Выберите роль\");\r\n      if(response.status==200){\r\n        response.data.forEach((item)=>{\r\n          this.selectItem.push(item.roleName)\r\n        });\r\n        }\r\n      console.log(this.selectItem[0])\r\n  },\r\n\r\n  methods: {\r\n    LoginPage(){\r\n      this.$router.push(\"/\")\r\n    },\r\n   async  SingIn(){\r\n\r\n       const response= await axios.post(\"api/user/new_account/\",{\r\n         username: this.username,\r\n         password: this.password,\r\n         firstname: this.firstname,\r\n         lastname: this.lastname,\r\n         users: {\r\n           roles: {\r\n             roleName: this.roleName\r\n           }\r\n         },\r\n         name: this.name,\r\n\r\n       });\r\n       console.log(response)\r\n\r\n    }\r\n  }\r\n}\r\n\r\n\r\n</script>\r\n\r\n<style>\r\n\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}