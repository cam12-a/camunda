{"ast":null,"code":"//import axios from \"axios\";\nexport default {\n  // eslint-disable-next-line vue/multi-word-component-names\n  name: 'Login',\n  methods: {\n    async \"login\"() {\n      var params = new URLSearchParams();\n      /* var dataForm=new FormData()\r\n      dataForm.set(\"username\",this.username);\r\n      dataForm.set(\"password\",this.password);\r\n      params.append(\" username\",this.username)\r\n      params.append(\"password\",this.password)\r\n       */\n\n      /*\r\n      params.append(\"username\",this.username)\r\n      params.append(\"password\",this.password)\r\n      const response=await axios.post(\"/api/auth/login/\", params);\r\n      console.log(response);\r\n      if(response.data.responseModel.message===\"credential invalid\"){\r\n        this.errorMessage=\"Логин или пароль неверный\"\r\n      }\r\n      if(response.data.responseModel.message===\"login success\"){\r\n        this.errorMessage=\"\"\r\n        localStorage.setItem(\"access_token\",response.data.access_token)\r\n          console.log(\"/n header\"+JSON.stringify(response.headers))\r\n          await this.$router.push('/scanningQrCodePageView/')\r\n        }*/\n\n      let response = await fetch('http://localhost:8085/api/auth/login/', {\n        \"method\": 'POST',\n        \"headers\": {\n          'Content-Type': 'application/json; charset=utf-8'\n        },\n        \"body\": {\n          \"username\": this.username,\n          \"password\": this.password\n        }\n      });\n      console.log(response);\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAoCA;AAGA,eAAe;EACb;EACAA,IAAI,EAAE,OAFO;EAIbC,OAAO,EAAE;IACP,MAAM,OAAN,GAAgB;MACd,IAAIC,MAAK,GAAI,IAAIC,eAAJ,EAAb;MACA;;;;;;;MASA;;;;;;;;;;;;;;;MAmBA,IAAIC,QAAO,GAAI,MAAMC,KAAK,CAAC,uCAAD,EAA0C;QAClE,UAAU,MADwD;QAElE,WAAW;UACT,gBAAgB;QADP,CAFuD;QAKlE,QAAO;UACL,YAAY,KAAKC,QADZ;UAEL,YAAY,KAAKC;QAFZ;MAL2D,CAA1C,CAA1B;MAUAC,OAAO,CAACC,GAAR,CAAYL,QAAZ;IACD;;EA1CM;AAJI,CAAf","names":["name","methods","params","URLSearchParams","response","fetch","username","password","console","log"],"sourceRoot":"","sources":["C:\\Users\\camar\\Intellij\\Kotlin\\MFA\\frontend\\src\\components\\Login.vue"],"sourcesContent":["<template>\r\n  <form method=\"Post\" @submit.prevent=\"login\" >\r\n\r\n    <div class=\"input-group form-group\">\r\n      <div class=\"input-group-prepend\">\r\n        <span class=\"input-group-text\"><i class=\"fas fa-user\"></i></span>\r\n      </div>\r\n      <input type=\"text\" class=\"form-control\" placeholder=\"username\" name=\"email\" id=\"username\" v-model=\"username\" required>\r\n\r\n    </div>\r\n    <div class=\"input-group form-group\">\r\n      <div class=\"input-group-prepend\">\r\n        <span class=\"input-group-text\"><i class=\"fas fa-key\"></i></span>\r\n      </div>\r\n      <input type=\"password\" class=\"form-control\" placeholder=\"password\" name=\"password\" id=\"password\" v-model=\"password\" required>\r\n    </div>\r\n\r\n\r\n    <p style=\"color:red; flex-flow: row\">{{errorMessage}}</p>\r\n\r\n\r\n\r\n    <div class=\"form-group\">\r\n      <input type=\"submit\" value=\"Войти\" class=\"btn float-right login_btn\">\r\n    </div>\r\n\r\n\r\n\r\n    <div class=\"form-group float-right \" style=\"transform:translate(-10%,70%); font-size: 20px; margin-top: 10%\">\r\n      <a href=\"./SendSamplePassword/\" class=\"sendSamplePassword\">Забыли пароль?</a>\r\n    </div>\r\n  </form>\r\n\r\n</template>\r\n<script>\r\n\r\n//import axios from \"axios\";\r\n\r\n\r\nexport default {\r\n  // eslint-disable-next-line vue/multi-word-component-names\r\n  name: 'Login',\r\n\r\n  methods: {\r\n    async \"login\"() {\r\n      var params = new URLSearchParams();\r\n      /* var dataForm=new FormData()\r\n      dataForm.set(\"username\",this.username);\r\n      dataForm.set(\"password\",this.password);\r\n      params.append(\" username\",this.username)\r\n      params.append(\"password\",this.password)\r\n\r\n     */\r\n\r\n\r\n      /*\r\n      params.append(\"username\",this.username)\r\n      params.append(\"password\",this.password)\r\n      const response=await axios.post(\"/api/auth/login/\", params);\r\n      console.log(response);\r\n      if(response.data.responseModel.message===\"credential invalid\"){\r\n        this.errorMessage=\"Логин или пароль неверный\"\r\n      }\r\n      if(response.data.responseModel.message===\"login success\"){\r\n        this.errorMessage=\"\"\r\n        localStorage.setItem(\"access_token\",response.data.access_token)\r\n\r\n        console.log(\"/n header\"+JSON.stringify(response.headers))\r\n\r\n        await this.$router.push('/scanningQrCodePageView/')\r\n\r\n      }*/\r\n\r\n\r\n      let response = await fetch('http://localhost:8085/api/auth/login/', {\r\n        \"method\": 'POST',\r\n        \"headers\": {\r\n          'Content-Type': 'application/json; charset=utf-8'\r\n        },\r\n        \"body\":{\r\n          \"username\": this.username,\r\n          \"password\": this.password\r\n        }\r\n      });\r\n      console.log(response)\r\n    }},\r\n}\r\n\r\n</script>\r\n<style>\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}