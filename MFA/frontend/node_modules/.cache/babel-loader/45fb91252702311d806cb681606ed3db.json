{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  // eslint-disable-next-line vue/multi-word-component-names\n  name: 'Login',\n  methods: {\n    async login() {\n      var params = new URLSearchParams();\n      /* var dataForm=new FormData()\r\n        dataForm.set(\"username\",this.username);\r\n        dataForm.set(\"password\",this.password);\r\n        params.append(\" username\",this.username)\r\n        params.append(\"password\",this.password)\r\n         */\n\n      params.append(\"username\", this.username);\n      params.append(\"password\", this.password);\n      const response = await axios.post(\"/api/auth/login/\", params);\n      console.log(response);\n\n      if (response.data.responseModel.message === \"credential invalid\") {\n        this.errorMessage = \"Логин или пароль неверный\";\n      }\n\n      if (response.data.responseModel.message === \"login success\") {\n        this.errorMessage = \"\";\n        localStorage.setItem(\"access_token\", response.data.access_token);\n        console.log(\"/n header\" + JSON.stringify(response.headers));\n        await this.$router.push('/scanningQrCodePageView/');\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAoCA,OAAOA,KAAP,MAAkB,OAAlB;AAGA,eAAe;EACb;EACAC,IAAI,EAAE,OAFO;EAIbC,OAAO,EAAE;IACP,MAAMC,KAAN,GAAa;MACX,IAAIC,MAAK,GAAI,IAAIC,eAAJ,EAAb;MACF;;;;;;;MAUED,MAAM,CAACE,MAAP,CAAc,UAAd,EAAyB,KAAKC,QAA9B;MACAH,MAAM,CAACE,MAAP,CAAc,UAAd,EAAyB,KAAKE,QAA9B;MACA,MAAMC,QAAQ,GAAC,MAAMT,KAAK,CAACU,IAAN,CAAW,kBAAX,EAA+BN,MAA/B,CAArB;MACAO,OAAO,CAACC,GAAR,CAAYH,QAAZ;;MACA,IAAGA,QAAQ,CAACI,IAAT,CAAcC,aAAd,CAA4BC,OAA5B,KAAsC,oBAAzC,EAA8D;QAC5D,KAAKC,YAAL,GAAkB,2BAAlB;MACF;;MACA,IAAGP,QAAQ,CAACI,IAAT,CAAcC,aAAd,CAA4BC,OAA5B,KAAsC,eAAzC,EAAyD;QACvD,KAAKC,YAAL,GAAkB,EAAlB;QACAC,YAAY,CAACC,OAAb,CAAqB,cAArB,EAAoCT,QAAQ,CAACI,IAAT,CAAcM,YAAlD;QAEAR,OAAO,CAACC,GAAR,CAAY,cAAYQ,IAAI,CAACC,SAAL,CAAeZ,QAAQ,CAACa,OAAxB,CAAxB;QAEA,MAAM,KAAKC,OAAL,CAAaC,IAAb,CAAkB,0BAAlB,CAAN;MAEF;IAED;;EA9BM;AAJI,CAAf","names":["axios","name","methods","login","params","URLSearchParams","append","username","password","response","post","console","log","data","responseModel","message","errorMessage","localStorage","setItem","access_token","JSON","stringify","headers","$router","push"],"sourceRoot":"","sources":["C:\\Users\\camar\\Intellij\\Kotlin\\MFA\\frontend\\src\\components\\Login.vue"],"sourcesContent":["<template>\r\n  <form method=\"Post\" @submit.prevent=\"login\" >\r\n\r\n    <div class=\"input-group form-group\">\r\n      <div class=\"input-group-prepend\">\r\n        <span class=\"input-group-text\"><i class=\"fas fa-user\"></i></span>\r\n      </div>\r\n      <input type=\"text\" class=\"form-control\" placeholder=\"username\" name=\"email\" id=\"username\" v-model=\"username\" required>\r\n\r\n    </div>\r\n    <div class=\"input-group form-group\">\r\n      <div class=\"input-group-prepend\">\r\n        <span class=\"input-group-text\"><i class=\"fas fa-key\"></i></span>\r\n      </div>\r\n      <input type=\"password\" class=\"form-control\" placeholder=\"password\" name=\"password\" id=\"password\" v-model=\"password\" required>\r\n    </div>\r\n\r\n\r\n    <p style=\"color:red; flex-flow: row\">{{errorMessage}}</p>\r\n\r\n\r\n\r\n    <div class=\"form-group\">\r\n      <input type=\"submit\" value=\"Войти\" class=\"btn float-right login_btn\">\r\n    </div>\r\n\r\n\r\n\r\n    <div class=\"form-group float-right \" style=\"transform:translate(-10%,70%); font-size: 20px; margin-top: 10%\">\r\n      <a href=\"./SendSamplePassword/\" class=\"sendSamplePassword\">Забыли пароль?</a>\r\n    </div>\r\n  </form>\r\n\r\n</template>\r\n<script>\r\n\r\nimport axios from \"axios\";\r\n\r\n\r\nexport default {\r\n  // eslint-disable-next-line vue/multi-word-component-names\r\n  name: 'Login',\r\n\r\n  methods: {\r\n    async login(){\r\n      var params = new URLSearchParams();\r\n    /* var dataForm=new FormData()\r\n      dataForm.set(\"username\",this.username);\r\n      dataForm.set(\"password\",this.password);\r\n      params.append(\" username\",this.username)\r\n      params.append(\"password\",this.password)\r\n\r\n     */\r\n\r\n\r\n\r\n      params.append(\"username\",this.username)\r\n      params.append(\"password\",this.password)\r\n      const response=await axios.post(\"/api/auth/login/\", params);\r\n      console.log(response);\r\n      if(response.data.responseModel.message===\"credential invalid\"){\r\n        this.errorMessage=\"Логин или пароль неверный\"\r\n      }\r\n      if(response.data.responseModel.message===\"login success\"){\r\n        this.errorMessage=\"\"\r\n        localStorage.setItem(\"access_token\",response.data.access_token)\r\n\r\n        console.log(\"/n header\"+JSON.stringify(response.headers))\r\n\r\n        await this.$router.push('/scanningQrCodePageView/')\r\n\r\n      }\r\n\r\n    },\r\n  }\r\n\r\n}\r\n\r\n</script>\r\n<style>\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}